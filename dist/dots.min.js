let txtmap,txtmp,sz=512,pixelSparsenessFactor=.4,minamountofcirclesontexturemap=2,maxsizetoavoidoverflow=sz*pixelSparsenessFactor/minamountofcirclesontexturemap,minsize=10,maxsize=maxsizetoavoidoverflow,paddingFactor=5,colorList=[[170,93,212],[214,84,179],[255,156,102],[52,77,235],[112,225,4]];function preload(){inittxtmp()}function drawLine(t,e,a,i,o,r,n){Math.abs(t-a)<1&&vertical(t,e,i,o,r,n),Math.abs(e-i)<2&&horizontal(t,a,e,o,r,n),t<a&&e<i?midPointCase1(t,e,a,i,o,r,n):t>a&&e<i?midPointCase2(t,e,a,i,o,r,n):t>a&&e>i?midPointCase3(t,e,a,i,o,r,n):t<a&&e>i&&midPointCase4(t,e,a,i,o,r,n)}function midPointCase1(t,e,a,i,o,r,n){let s=a-t,l=i-e;if(l<s){let i=l-s/2,x=t,p=e;for(setTextureMapPixel(x,p,o,r,n);x<a;)i<0?i+=l:(i+=l-s,p++),setTextureMapPixel(++x,p,o,r,n)}else{let a=2*s-l,x=t,p=e;for(setTextureMapPixel(x,p,o,r,n);p<=i;)a>0?(x++,a+=2*(s-l)):a+=2*s,setTextureMapPixel(x,p,o,r,n),p++}}function midPointCase2(t,e,a,i,o,r,n){let s=t-a,l=i-e;if(l<s){let i=l-s/2,x=t,p=e;for(setTextureMapPixel(x,p,o,r,n);x>a;)i<0?i+=l:(i+=l-s,p++),setTextureMapPixel(--x,p,o,r,n)}else{let a=2*s-l,x=t,p=e;for(setTextureMapPixel(x,p,o,r,n);p<=i;)a>0?(x--,a+=2*(s-l)):a+=2*s,setTextureMapPixel(x,p,o,r,n),p++}}function midPointCase3(t,e,a,i,o,r,n){let s=t-a,l=e-i;if(l<s){let i=l-s/2,x=t,p=e;for(setTextureMapPixel(x,p,o,r,n);x>a;)i<0?i+=l:(i+=l-s,p--),setTextureMapPixel(--x,p,o,r,n)}else{let a=2*s-l,x=t,p=e;for(setTextureMapPixel(x,p,o,r,n);p>=i;)a>0?(x--,a+=2*(s-l)):a+=2*s,setTextureMapPixel(x,p,o,r,n),p--}}function midPointCase4(t,e,a,i,o,r,n){let s=a-t,l=e-i;if(l<s){let i=l-s/2,x=t,p=e;for(setTextureMapPixel(x,p,o,r,n);x<a;)i<0?i+=l:(i+=l-s,p--),setTextureMapPixel(++x,p,o,r,n)}else{let a=2*s-l,x=t,p=e;for(setTextureMapPixel(x,p,o,r,n);p>=i;)a>0?(x++,a+=2*(s-l)):a+=2*s,setTextureMapPixel(x,p,o,r,n),p--}}function vertical(t,e,a,i,o,r){let n=Math.min(e,a);for(;n<=Math.max(e,a);)setTextureMapPixel(t,n,i,o,r),n++}function horizontal(t,e,a,i,o,r){let n=Math.min(t,e);for(;n<=Math.max(t,e);)setTextureMapPixel(n,a,i,o,r),n++}function drawCircle(t,e,a,i,o,r){let n=t,s=0,l=0;for(;n>=s;)drawLine(e,a,n+e,s+a,i,o,r),drawLine(e,a,s+e,n+a,i,o,r),drawLine(e,a,-1*n+e,s+a,i,o,r),drawLine(e,a,-1*s+e,n+a,i,o,r),drawLine(e,a,-1*n+e,-1*s+a,i,o,r),drawLine(e,a,-1*s+e,-1*n+a,i,o,r),drawLine(e,a,n+e,-1*s+a,i,o,r),drawLine(e,a,s+e,-1*n+a,i,o,r),l<=0?l+=2*(s+=.5)+1:l-=2*(n-=.5)+1}function setTextureMapPixel(t,e,a,i,o){t<0&&(t=0),e<0&&(e=0),t>sz-1&&(t=sz-1),e>sz-1&&(e=sz-1),txtmp[Math.floor(t)][Math.floor(e)][0]=a,txtmp[Math.floor(t)][Math.floor(e)][1]=i,txtmp[Math.floor(t)][Math.floor(e)][2]=o}function inittxtmp(){let t=[];for(let e=0;e<sz;e++){let e=[];for(let t=0;t<sz;t++)e.push([255,255,255]);t.push(e)}txtmp=t}function random(t,e){return Math.random()*(e-t)+t}function isOverlapping(t,e,a,i){for(let o=0;o<t.length;o+=1){let r=t[o];const n=r[0]-e,s=r[1]-a;if(Math.pow(Math.pow(n,2)+Math.pow(s,2),.5)<i+r[2]+paddingFactor)return!0}return!1}function getDots(){inittxtmp();let t=[],e=20,a=0;for(;a<sz*sz*pixelSparsenessFactor&&e>=0;){let i=random(0,sz),o=random(0,sz),r=random(minsize,maxsize);i=Math.max(i,r+paddingFactor/2),i=Math.min(i,sz-r-paddingFactor/2),o=Math.max(o,r+paddingFactor/2),o=Math.min(o,sz-r-paddingFactor/2);let n=0;for(;n<10&&isOverlapping(t,i,o,r);)i=random(0,sz),o=random(0,sz),r=random(minsize,maxsize),i=Math.max(i,r+paddingFactor/2),i=Math.min(i,sz-r-paddingFactor/2),o=Math.max(o,r+paddingFactor/2),o=Math.min(o,sz-r-paddingFactor/2),n+=1;if(n<10){let e=colorList[Math.floor(random(0,colorList.length))];drawCircle(r,i,o,e[0],e[1],e[2]),t.push([i,o,r]),a+=Math.PI*Math.pow(r,2)}else e-=1}return txtmp}